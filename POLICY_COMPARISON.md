# 策略差異說明

## 🤔 為什麼有「隨性自由型」但不需要「原始隨機型」？

### 原始隨機型（已移除）
```python
BehaviorTreePolicy(epsilon=0.5)  # 50% 完全隨機
```
- **特點：** 50% 機率完全隨機，剩下 50% 按基礎規則（體力低→休息、心情低→玩遊戲）
- **問題：** 缺乏個性，只是「隨機 + 簡單規則」的組合
- **結果：** 表現平庸，沒有特色

### 隨性自由型（保留）
```python
CasualPolicy(epsilon=0.4)  # 40% 完全隨機
```
- **特點：** 40% 機率隨機，但剩下 60% 會**根據心情**選擇偏好行為
- **個性化邏輯：**
  ```python
  if player.mood > 70:
      # 心情好時更願意社交或玩
      preferred = ["socialize", "play_game", "study"]
  elif player.mood < 40:
      # 心情差時想休息或玩
      preferred = ["rest", "play_game"]
  else:
      # 普通心情，什麼都行
      preferred = actions
  
  # 加權隨機（玩遊戲 1.5x，社交 1.2x）
  ```
- **優勢：** 模擬「看心情做事」的真實人類行為

---

## 📊 兩者差異對比

| 特性 | 原始隨機型 | 隨性自由型 |
|------|-----------|-----------|
| 隨機率 | 50% | 40% |
| 決策邏輯 | 簡單規則（體力低→休息） | 複雜邏輯（根據心情偏好） |
| 個性化 | ❌ 無 | ✅ 有（心情導向） |
| 加權選擇 | ❌ 無 | ✅ 有（偏愛娛樂、社交） |
| 考前行為 | 完全隨機 | 60% 會臨時抱佛腳 |
| 實用性 | 低（太基礎） | 高（模擬真實人類） |

---

## 💡 實際差異範例

### 情境：心情 80，體力 50，知識 30，Week 5

**原始隨機型：**
```
50% 機率 → 完全隨機選一個
50% 機率 → 檢查體力（50 不算低）、心情（80 不算低）
         → 知識 < 目標(20+5*3=35) → 讀書
```

**隨性自由型：**
```
40% 機率 → 完全隨機選一個
60% 機率 → 檢查心情 80 > 70 → 心情好！
         → 偏好 [社交, 玩遊戲, 讀書]
         → 加權選擇：玩遊戲(1.5x)、社交(1.2x)、讀書(1.0x)
         → 更可能選玩遊戲或社交（享受好心情）
```

**結果：** 隨性型更像真實人類——心情好時想出去玩，而不是機械地讀書。

---

## 🎯 四種策略定位

### 1. 保守平衡型（ConservativePolicy）
- **角色：** 穩健派學生
- **特點：** 各科平均，不冒險
- **適合：** 追求穩定，不想壓力太大
- **缺點：** 成績不會特別突出

### 2. 激進極端型（AggressivePolicy）
- **角色：** 學霸或極端玩家
- **特點：** 全力衝刺單一目標
- **適合：** 追求極致成績
- **缺點：** 可能心情體力崩潰

### 3. 隨性自由型（CasualPolicy）
- **角色：** 佛系學生
- **特點：** 看心情做事，享受過程
- **適合：** 不在意成績，重視體驗
- **缺點：** 結果不穩定

### 4. 有限狀態機（FSMBehaviorPolicy）
- **角色：** 聰明的適應者
- **特點：** 根據情況動態調整策略
- **適合：** 追求平衡，靈活應變
- **優勢：** 綜合表現最佳

---

## 📈 測試結果證明

```
策略            知識    心情    體力    穩定性
保守平衡型      84.31   94.87   55.85   中等
激進極端型      99.86   27.14   26.90   最高
隨性自由型      82.11   71.13   46.21   最低
有限狀態機      94.55   63.67   34.67   中等
```

**發現：**
- 隨性型的知識（82.11）比原始隨機型更高，因為它會在考前臨時抱佛腳
- 隨性型的心情（71.13）更好，因為它偏愛娛樂和社交
- 隨性型的標準差最大（變化最大），符合「隨性」的特質

---

## ✨ 總結

**為什麼移除原始隨機型？**
1. 缺乏個性，只是「半隨機半規則」的簡單組合
2. 沒有模擬真實人類的決策模式
3. 與其他三種策略相比，沒有明確定位

**為什麼保留隨性自由型？**
1. 有明確個性：「看心情做事」
2. 模擬真實學生行為（心情好想玩，考前可能臨時抱佛腳）
3. 與保守型、激進型形成對比，豐富策略多樣性
4. 加權選擇讓行為更自然

**四種策略形成完整生態：**
- 保守型 ⇄ 激進型（穩定 vs 極端）
- 隨性型 ⇄ FSM（固定性格 vs 動態調整）

這樣的設計既有理論深度，又貼近實際應用。

---

*最後更新：2025-12-24*
